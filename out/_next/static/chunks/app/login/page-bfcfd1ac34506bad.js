(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2762:function(e,r,t){Promise.resolve().then(t.bind(t,32218))},32218:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return _}});var s=t(57437),a=t(2265),n=t(24033),o=t(16691),i=t.n(o),l=t(74578),d=t(61865),c=t(38110),u=t(28956),m=t(77216),f=t(99670),x=t(47713),p=t(95358),g=t(67256),h=t(39311),b=t(66672);let j=d.RV,v=a.createContext({}),y=e=>{let{...r}=e;return(0,s.jsx)(v.Provider,{value:{name:r.name},children:(0,s.jsx)(d.Qr,{...r})})},N=()=>{let e=a.useContext(v),r=a.useContext(w),{getFieldState:t,formState:s}=(0,d.Gc)(),n=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},w=a.createContext({}),k=a.forwardRef((e,r)=>{let{className:t,...n}=e,o=a.useId();return(0,s.jsx)(w.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:r,className:(0,h.cn)("space-y-2",t),...n})})});k.displayName="FormItem";let A=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:n,formItemId:o}=N();return(0,s.jsx)(b._,{ref:r,className:(0,h.cn)(n&&"text-destructive",t),htmlFor:o,...a})});A.displayName="FormLabel";let C=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:n,formDescriptionId:o,formMessageId:i}=N();return(0,s.jsx)(g.g7,{ref:r,id:n,"aria-describedby":a?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!a,...t})});C.displayName="FormControl";let R=a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:n}=N();return(0,s.jsx)("p",{ref:r,id:n,className:(0,h.cn)("text-sm text-muted-foreground",t),...a})});R.displayName="FormDescription";let I=a.forwardRef((e,r)=>{let{className:t,children:a,...n}=e,{error:o,formMessageId:i}=N(),l=o?String(null==o?void 0:o.message):a;return l?(0,s.jsx)("p",{ref:r,id:i,className:(0,h.cn)("text-sm font-medium text-destructive",t),...n,children:l}):null});I.displayName="FormMessage";var F=t(51908),S=t(86110),z=t(91350),O=t(71424);let M=e=>{let{...r}=e,{theme:t="system"}=(0,z.F)();return(0,s.jsx)(O.x7,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})},P=l.z.object({username:l.z.string().min(1,{message:"Username is required"}),password:l.z.string().min(1,{message:"Password is required"})}),V={username:"",password:""};function _(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),g=(0,d.cI)({resolver:(0,c.F)(P),defaultValues:V});async function h(r){t(!0);try{let t=await fetch("".concat("https://wbassetmgmtservice.link/VYOMAUMSRestAPI/api/","auth/generateToken"),{method:"POST",headers:{Authorization:"Basic dGVzdDAwMDE6YWRtaW5AMTIz","Content-Type":"application/json"},body:JSON.stringify({username:r.username,password:r.password})});if(!t.ok)throw Error("Failed to generate token");let s=await t.json(),a=s.data.access_token,n=await fetch("".concat("https://wbassetmgmtservice.link/VYOMAUMSRestAPI/api/","user/authentication"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({username:r.username,password:r.password})});if(!n.ok)throw Error("Authentication failed");let o=await n.json();o.data&&("HR"===o.data.userrole||"ADMIN"===o.data.userrole)?((0,x.setCookie)("token",a,{maxAge:86400}),(0,x.setCookie)("userId",o.data.userid,{maxAge:86400}),(0,x.setCookie)("username",o.data.username,{maxAge:86400}),(0,x.setCookie)("userRole",o.data.userrole,{maxAge:86400}),(0,x.setCookie)("userFullName",o.data.userfullname,{maxAge:86400}),O.Am.success("Login successful",{description:"Welcome, ".concat(o.data.userfullname)}),e.push("/dashboard")):O.Am.error("Access denied",{description:"You don't have permission to access this system."})}catch(e){console.error("Login error:",e),O.Am.error("Login failed",{description:"Invalid credentials or server error. Please try again."})}finally{t(!1)}}return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-secondary/20 flex items-center justify-center p-4",children:[(0,s.jsx)(M,{}),(0,s.jsxs)("div",{className:"grid w-full lg:grid-cols-2 gap-8 max-w-5xl",children:[(0,s.jsxs)("div",{className:"hidden lg:flex flex-col justify-center p-8",children:[(0,s.jsxs)("div",{className:"flex items-center mb-8",children:[(0,s.jsx)(u.Z,{className:"h-10 w-10 text-primary mr-2"}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Vyoma Innovus Global"})]}),(0,s.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Attendance Management Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-8 max-w-md",children:"Track employee attendance, location data, and manage leave requests with our comprehensive dashboard."}),(0,s.jsxs)("div",{className:"relative h-64 w-full rounded-lg overflow-hidden shadow-2xl",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-card/80 to-transparent z-10 flex items-center p-8",children:(0,s.jsxs)("div",{className:"max-w-xs",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Real-time tracking"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"View employee check-ins and check-outs as they happen, with precision location data."})]})}),(0,s.jsx)("div",{className:"absolute inset-0",children:(0,s.jsx)(i(),{src:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Office team working",fill:!0,style:{objectFit:"cover"},priority:!0})})]})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)(S.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(S.Ol,{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center lg:hidden mb-2",children:[(0,s.jsx)(u.Z,{className:"h-6 w-6 text-primary mr-2"}),(0,s.jsx)("span",{className:"font-bold",children:"Vyoma Innovus Global"})]}),(0,s.jsx)(S.ll,{className:"text-2xl font-bold",children:"Sign in"}),(0,s.jsx)(S.SZ,{children:"Enter your credentials to access the dashboard"})]}),(0,s.jsx)(S.aY,{children:(0,s.jsx)(j,{...g,children:(0,s.jsxs)("form",{onSubmit:g.handleSubmit(h),className:"space-y-4",children:[(0,s.jsx)(y,{control:g.control,name:"username",render:e=>{let{field:t}=e;return(0,s.jsxs)(k,{children:[(0,s.jsx)(A,{children:"Username"}),(0,s.jsx)(C,{children:(0,s.jsx)(F.I,{placeholder:"hr0001",...t,disabled:r})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(y,{control:g.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(k,{children:[(0,s.jsx)(A,{children:"Password"}),(0,s.jsx)(C,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(F.I,{placeholder:"••••••••",type:o?"text":"password",...t,disabled:r}),(0,s.jsx)(p.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>l(!o),children:o?(0,s.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"}):(0,s.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})})]})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(p.z,{type:"submit",className:"w-full",disabled:r,children:r?"Signing in...":"Sign in"})]})})}),(0,s.jsx)(S.eW,{className:"flex justify-center border-t pt-4",children:(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," Vyoma Innovus Global. All rights reserved."]})})]})})]})]})}},95358:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var s=t(57437),a=t(2265),n=t(67256),o=t(39213),i=t(39311);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:o,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(l({variant:a,size:o,className:t})),ref:r,...c})});d.displayName="Button"},86110:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var s=t(57437),a=t(2265),n=t(39311);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},51908:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var s=t(57437),a=t(2265),n=t(39311);let o=a.forwardRef((e,r)=>{let{className:t,type:a,...o}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},66672:function(e,r,t){"use strict";t.d(r,{_:function(){return d}});var s=t(57437),a=t(2265),n=t(36743),o=t(39213),i=t(39311);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(n.f,{ref:r,className:(0,i.cn)(l(),t),...a})});d.displayName=n.f.displayName},39311:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(57042),a=t(74769);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}}},function(e){e.O(0,[895,890,938,971,864,744],function(){return e(e.s=2762)}),_N_E=e.O()}]);